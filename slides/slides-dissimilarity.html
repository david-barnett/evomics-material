<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta name="generator" content="quarto-0.9.419">

  <meta name="author" content="David Barnett">
  <title>Microbiome data analysis with microViz</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="slides-dissimilarity_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="slides-dissimilarity_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="slides-dissimilarity_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <script src="slides-dissimilarity_files/libs/clipboard/clipboard.min.js"></script>
  <script src="slides-dissimilarity_files/libs/quarto-html/tabby.min.js"></script>
  <script src="slides-dissimilarity_files/libs/quarto-html/popper.min.js"></script>
  <script src="slides-dissimilarity_files/libs/quarto-html/tippy.umd.min.js"></script>
  <link href="slides-dissimilarity_files/libs/quarto-html/tippy.css" rel="stylesheet">
  <link href="slides-dissimilarity_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet">
  <link id="quarto-text-highlighting-styles" href="slides-dissimilarity_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet">
  <link href="slides-dissimilarity_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="slides-dissimilarity_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="slides-dissimilarity_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="slides-dissimilarity_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <h1 class="title">Microbiome data analysis with microViz</h1>
  <p class="author">David Barnett</p>
</section>

<section>
<section id="part-2-dissimilarity" class="title-slide slide level1 center" data-transition="convex">
<h1>Part 2: Dissimilarity</h1>
<div class="cell">

</div>
<div class="cell">

</div>
</section>
<section id="from-diversity-to-dissimilarity" class="slide level2" data-transition="convex-in convex-out">
<h2>From Diversity to Dissimilarity</h2>
<div>
<ul>
<li class="fragment"><strong>Alpha diversity</strong>:
<ul>
<li class="fragment">Summarizing one sample</li>
<li class="fragment"><em>“How diverse is this ecosystem?”</em></li>
</ul></li>
</ul>
<p><br></p>
<ul>
<li class="fragment"><strong>Dissimilarity</strong>:
<ul>
<li class="fragment">Comparing a pair of samples</li>
<li class="fragment"><em>“How different are these two ecosystems?”</em></li>
</ul></li>
</ul>
</div>
</section>
<section id="a-new-dataset" class="slide level2" data-transition="convex">
<h2>A new dataset</h2>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>shao19</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>phyloseq-class experiment-level object
otu_table()   OTU Table:         [ 819 taxa and 1644 samples ]
sample_data() Sample Data:       [ 1644 samples by 11 sample variables ]
tax_table()   Taxonomy Table:    [ 819 taxa by 6 taxonomic ranks ]
phy_tree()    Phylogenetic Tree: [ 819 tips and 818 internal nodes ]</code></pre>
</div>
</div>
<p><br></p>
<ul>
<li>Infant gut microbiome cohort study: Shao et al.&nbsp;2019</li>
<li>Shotgun metagenomic sequencing data: Illumina HiSeq</li>
<li>Species resolution taxonomy: metaphlan3</li>
</ul>
<aside class="notes">
<p>New dataset gives you another chance to practice examining and manipulating phyloseq object. Also shows you that despite a different data generation and processing method, the analyses approaches you are learning today are still applicable.</p>
<p>We won’t talk about how metaphlan3 works, but the documentation is very good. In short, the devs inferred a database of many different marker sequences unique to each species, and by counting the number of times those markers are found in your shotgun metagenomic data, species composition is inferred.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="what-is-dissimilarity" class="slide level2 smaller" data-transition="convex-in fade-out">
<h2>What is dissimilarity?</h2>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>shaoSubset <span class="sc">%&gt;%</span> <span class="fu">comp_barplot</span>(<span class="st">"genus"</span>, <span class="at">n_taxa =</span> <span class="dv">13</span>, <span class="at">sample_order =</span> <span class="st">'asis'</span>, <span class="at">merge_other =</span> <span class="cn">FALSE</span>, <span class="at">label =</span> <span class="cn">NULL</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides-dissimilarity_files/figure-revealjs/unnamed-chunk-5-1.png" width="720" class="r-stretch"><aside class="notes">
<p>By looking at the compositional bar charts, you can spot that some samples look quite similar and some look quite different. In the last session before dinner, you might have noticed that by default comp_barplot orders the samples in a nicer way with similar looking ones closer together.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="what-is-dissimilarity-1" class="slide level2 smaller">
<h2>What is dissimilarity?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>shaoSubset <span class="sc">%&gt;%</span> <span class="fu">comp_barplot</span>(<span class="st">"genus"</span>, <span class="at">n_taxa =</span> <span class="dv">13</span>, <span class="at">sample_order =</span> <span class="st">"bray"</span>, <span class="at">merge_other =</span> <span class="cn">FALSE</span>, <span class="at">label =</span> <span class="cn">NULL</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="slides-dissimilarity_files/figure-revealjs/unnamed-chunk-6-1.png" width="720" class="r-stretch"><aside class="notes">
<p>How does it decide on this order??! We need some way to quantify how similar or dissimilar two ecosystems / two samples are. Hands up who has heard of dissimilarity measures? or distance measures maybe?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="quantifying-dissimilarity" class="title-slide slide level1 center" data-transition="convex">
<h1>Quantifying dissimilarity?</h1>
<ul>
<li>There are many ways</li>
<li>We’ll look at a few popular ones</li>
</ul>
<div class="cell">

</div>
</section>
<section id="dissimilarity-measures---qualitative" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Dissimilarity measures - qualitative</h2>
<div class="columns">
<div class="column" style="width:70%;">
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb5-1" class="hljs-ln-code"><a href="#cb5-1"></a>shao3 <span class="sc">%&gt;%</span> </span>
<span id="cb5-2" class="hljs-ln-code"><a href="#cb5-2"></a>  <span class="fu">tax_agg</span>(<span class="st">"genus"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-3" class="hljs-ln-code"><a href="#cb5-3"></a>  <span class="fu">tax_transform</span>(<span class="st">"binary"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-4" class="hljs-ln-code"><a href="#cb5-4"></a>  <span class="fu">dist_calc</span>(<span class="st">"jaccard"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><br></p>
<p><strong>Binary Jaccard</strong>: <span class="math inline">\(J = 1 - \frac{N_{shared}}{N_{total}}\)</span></p>
<ul>
<li>N is the number of taxa</li>
<li>Qualitative: Ignores abundance</li>
<li>Sensitive to uncommon taxa</li>
</ul>
</div><div class="column" style="width:27%;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>     X    Y    Z
X 0.00          
Y 0.57 0.00     
Z 0.88 0.81 0.00</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="slides-dissimilarity_files/figure-revealjs/unnamed-chunk-9-1.png" width="300"></p>
</div>
</div>
</div>
</div>
</section>
<section id="dissimilarity-measures---quantitative" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Dissimilarity measures - quantitative</h2>
<div class="columns">
<div class="column" style="width:70%;">
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb7-1" class="hljs-ln-code"><a href="#cb7-1"></a>shao3 <span class="sc">%&gt;%</span> </span>
<span id="cb7-2" class="hljs-ln-code"><a href="#cb7-2"></a>  <span class="fu">tax_agg</span>(<span class="st">"genus"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-3" class="hljs-ln-code"><a href="#cb7-3"></a>  <span class="fu">dist_calc</span>(<span class="st">"bray"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><br></p>
<p><strong>Bray-Curtis</strong>: <span class="math inline">\(BC = 1 - \frac{2W}{A+B}\)</span></p>
<ul>
<li>A + B is total readcount of both samples</li>
<li>W is sum of lesser counts of each taxon</li>
<li>Quantitative: Abundance-weighted</li>
</ul>
</div><div class="column" style="width:27%;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>     X    Y    Z
X 0.00          
Y 0.68 0.00     
Z 0.78 0.48 0.00</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="slides-dissimilarity_files/figure-revealjs/unnamed-chunk-11-1.png" width="300"></p>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>https://www.davidzeleny.net/anadat-r/doku.php/en:similarity Has good details.</p>
<p>This is manual calculation of BC between samples X and Y. <code>shao3 %&gt;% tax_transform('identity', "genus") %&gt;% otu_get() %&gt;% t() %&gt;% as.data.frame() %&gt;% mutate(min = pmin(X, Y)) %&gt;% summarise(W = sum(min), A = sum(X), B = sum(Y)) %&gt;% summarise(PS = 2*W / (A + B). BC = 1 - PS)</code></p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="dissimilarity-measures---phylogenetic" class="slide level2 smaller" data-background-color="white">
<h2>Dissimilarity measures - phylogenetic</h2>
<p><strong>UniFrac distance</strong>: Fraction of the branch length of the phylogenetic tree that leads to taxa from either one environment (sample) or the other, but not both.</p>

<img data-src="images/lozupone-unifrac.jpg" class="r-stretch"><p><em>Lozupone and Knight 2005</em></p>
</section>
<section id="dissimilarity-measures---phylogenetic-1" class="slide level2 smaller" data-background-color="white" data-transition="fade-in convex-out">
<h2>Dissimilarity measures - phylogenetic</h2>
<ul>
<li><strong>Weighted UniFrac distance</strong>: branch lengths are weighted by the relative abundance of sequences in each community (sample)</li>
<li><strong>Generalized UniFrac</strong> (not shown): partial abundance weighting - <em>Chen et al.&nbsp;2012</em></li>
</ul>

<img data-src="images/lozupone-weighted-unifrac.jpeg" class="r-stretch"><p><em>Lozupone et al.&nbsp;2007</em></p>
<aside class="notes">
<p>In example: Square sequences are weighted twice as much as circle sequences because there are twice as many total <strong>circle</strong> sequences in the dataset.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="why-quantify-dissimilarity" class="title-slide slide level1 center" data-transition="convex">
<h1>Why quantify dissimilarity?</h1>
<ul>
<li>To put our samples in order</li>
<li>This helps us see patterns in our data</li>
<li>But we can do more than just sort a bar chart!</li>
</ul>
</section>
<section id="ordination-with-pcoa" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Ordination with PCoA</h2>
<h4 id="principal-co-ordinates-analysis-aka-mds---multi-dimensional-scaling">“Principal Co-ordinates Analysis” (aka MDS - multi-dimensional scaling)</h4>
<p>From distance matrix to new dimensions</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>              B01406_ba_337 B01600_ba_21 B01627_ba_310 B01664_ba_301 B01782_ba_288 B01784_ba_21 B01851_ba_273 B02211_ba_214
B01406_ba_337     0.0000000    0.6275259     0.5131096     0.5602851     0.6137248    0.9711781     0.3666865     0.5608648
B01600_ba_21      0.6275259    0.0000000     0.4246706     0.3489344     0.7835414    0.9542480     0.6439534     0.3174279
B01627_ba_310     0.5131096    0.4246706     0.0000000     0.4076857     0.8137584    0.9774879     0.6400964     0.4033656
B01664_ba_301     0.5602851    0.3489344     0.4076857     0.0000000     0.7882974    0.9375888     0.6027129     0.3598398
B01782_ba_288     0.6137248    0.7835414     0.8137584     0.7882974     0.0000000    0.9700094     0.6446653     0.7972933
B01784_ba_21      0.9711781    0.9542480     0.9774879     0.9375888     0.9700094    0.0000000     0.7945886     0.9847860
B01851_ba_273     0.3666865    0.6439534     0.6400964     0.6027129     0.6446653    0.7945886     0.0000000     0.5698933
B02211_ba_214     0.5608648    0.3174279     0.4033656     0.3598398     0.7972933    0.9847860     0.5698933     0.0000000
B02218_ba_223     0.5998444    0.2442619     0.3493601     0.2973394     0.7971474    0.9416503     0.6099786     0.3147750
B02255_ba_21      0.8538117    0.8200495     0.8231758     0.7611237     0.8188012    0.8749968     0.8403020     0.8425275
B02258_ba_21      0.6227093    0.1732372     0.4254440     0.3792266     0.8617622    0.9796544     0.6324547     0.3110426
B02317_ba_205     0.6884194    0.6588944     0.5757901     0.4987246     0.7778045    0.7711461     0.4989296     0.6827537</code></pre>
</div>
</div>
</section>
<section id="ordination-with-pcoa-1" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Ordination with PCoA</h2>
<h4 id="principal-co-ordinates-analysis-aka-mds---multi-dimensional-scaling-1">“Principal Co-ordinates Analysis” (aka MDS - multi-dimensional scaling)</h4>
<p>From distance matrix to new dimensions</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb10-1" class="hljs-ln-code"><a href="#cb10-1"></a>shaoSubset <span class="sc">%&gt;%</span></span>
<span id="cb10-2" class="hljs-ln-code"><a href="#cb10-2"></a>  <span class="fu">tax_agg</span>(<span class="at">rank =</span> <span class="st">"genus"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-3" class="hljs-ln-code"><a href="#cb10-3"></a>  <span class="fu">dist_calc</span>(<span class="at">dist =</span> <span class="st">"bray"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-4" class="hljs-ln-code"><a href="#cb10-4"></a>  <span class="fu">ord_calc</span>(<span class="at">method =</span> <span class="st">"PCoA"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-5" class="hljs-ln-code"><a href="#cb10-5"></a>  <span class="fu">ord_plot</span>(</span>
<span id="cb10-6" class="hljs-ln-code"><a href="#cb10-6"></a>    <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb10-7" class="hljs-ln-code"><a href="#cb10-7"></a>  ) <span class="sc">+</span></span>
<span id="cb10-8" class="hljs-ln-code"><a href="#cb10-8"></a>  <span class="fu">theme_classic</span>(<span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb10-9" class="hljs-ln-code"><a href="#cb10-9"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">2</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<p><img data-src="slides-dissimilarity_files/figure-revealjs/unnamed-chunk-13-1.png" width="600"></p>
</div>
</div>
</div>
<aside class="notes">
<p>PCoA interpretation: - ordination method attempts to preserve the original pairwise distances between samples. So closer samples have</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ordination-with-pcoa-2" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Ordination with PCoA</h2>
<h4 id="principal-co-ordinates-analysis-aka-mds---multi-dimensional-scaling-2">“Principal Co-ordinates Analysis” (aka MDS - multi-dimensional scaling)</h4>
<p>From distance matrix to new dimensions</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb11-1" class="hljs-ln-code"><a href="#cb11-1"></a>shaoSubset <span class="sc">%&gt;%</span></span>
<span id="cb11-2" class="hljs-ln-code"><a href="#cb11-2"></a>  <span class="fu">ps_calc_dominant</span>(</span>
<span id="cb11-3" class="hljs-ln-code"><a href="#cb11-3"></a>    <span class="at">rank =</span> <span class="st">"genus"</span>, <span class="at">n_max =</span> <span class="dv">2</span>, <span class="at">var =</span> <span class="st">"Top_Genus"</span>, <span class="at">threshold =</span> <span class="fl">0.2</span></span>
<span id="cb11-4" class="hljs-ln-code"><a href="#cb11-4"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb11-5" class="hljs-ln-code"><a href="#cb11-5"></a>  <span class="fu">tax_agg</span>(<span class="at">rank =</span> <span class="st">"genus"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-6" class="hljs-ln-code"><a href="#cb11-6"></a>  <span class="fu">dist_calc</span>(<span class="at">dist =</span> <span class="st">"bray"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-7" class="hljs-ln-code"><a href="#cb11-7"></a>  <span class="fu">ord_calc</span>(<span class="at">method =</span> <span class="st">"PCoA"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-8" class="hljs-ln-code"><a href="#cb11-8"></a>  <span class="fu">ord_plot</span>(</span>
<span id="cb11-9" class="hljs-ln-code"><a href="#cb11-9"></a>    <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"Top_Genus"</span></span>
<span id="cb11-10" class="hljs-ln-code"><a href="#cb11-10"></a>  ) <span class="sc">+</span></span>
<span id="cb11-11" class="hljs-ln-code"><a href="#cb11-11"></a>  <span class="fu">theme_classic</span>(<span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb11-12" class="hljs-ln-code"><a href="#cb11-12"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">2</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb11-13" class="hljs-ln-code"><a href="#cb11-13"></a>  <span class="fu">theme</span>(</span>
<span id="cb11-14" class="hljs-ln-code"><a href="#cb11-14"></a>    <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.175</span>, <span class="fl">0.8</span>),</span>
<span id="cb11-15" class="hljs-ln-code"><a href="#cb11-15"></a>    <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"black"</span>)</span>
<span id="cb11-16" class="hljs-ln-code"><a href="#cb11-16"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<p><img data-src="slides-dissimilarity_files/figure-revealjs/unnamed-chunk-14-1.png" width="600"></p>
</div>
</div>
</div>
</section>
<section id="ordination-with-pcoa-3" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Ordination with PCoA</h2>
<h4 id="principal-co-ordinates-analysis-aka-mds---multi-dimensional-scaling-3">“Principal Co-ordinates Analysis” (aka MDS - multi-dimensional scaling)</h4>
<p>From distance matrix to new dimensions</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb12-1" class="hljs-ln-code"><a href="#cb12-1"></a>shaoSubset <span class="sc">%&gt;%</span></span>
<span id="cb12-2" class="hljs-ln-code"><a href="#cb12-2"></a>  <span class="fu">tax_agg</span>(<span class="at">rank =</span> <span class="st">"genus"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-3" class="hljs-ln-code"><a href="#cb12-3"></a>  <span class="fu">dist_calc</span>(<span class="at">dist =</span> <span class="st">"bray"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-4" class="hljs-ln-code"><a href="#cb12-4"></a>  <span class="fu">ord_calc</span>(<span class="at">method =</span> <span class="st">"PCoA"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-5" class="hljs-ln-code"><a href="#cb12-5"></a>  <span class="fu">ord_plot</span>(</span>
<span id="cb12-6" class="hljs-ln-code"><a href="#cb12-6"></a>    <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"birth_mode"</span></span>
<span id="cb12-7" class="hljs-ln-code"><a href="#cb12-7"></a>  ) <span class="sc">+</span></span>
<span id="cb12-8" class="hljs-ln-code"><a href="#cb12-8"></a>  <span class="fu">theme_classic</span>(<span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb12-9" class="hljs-ln-code"><a href="#cb12-9"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">2</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb12-10" class="hljs-ln-code"><a href="#cb12-10"></a>  <span class="fu">theme</span>(</span>
<span id="cb12-11" class="hljs-ln-code"><a href="#cb12-11"></a>    <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.175</span>, <span class="fl">0.8</span>),</span>
<span id="cb12-12" class="hljs-ln-code"><a href="#cb12-12"></a>    <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"black"</span>)</span>
<span id="cb12-13" class="hljs-ln-code"><a href="#cb12-13"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<p><img data-src="slides-dissimilarity_files/figure-revealjs/unnamed-chunk-15-1.png" width="600"></p>
</div>
</div>
</div>
</section>
<section id="ordination-with-pcoa-4" class="slide level2 smaller" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Ordination with PCoA</h2>
<h4 id="principal-co-ordinates-analysis-aka-mds---multi-dimensional-scaling-4">“Principal Co-ordinates Analysis” (aka MDS - multi-dimensional scaling)</h4>
<p>From distance matrix to new dimensions</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb13-1" class="hljs-ln-code"><a href="#cb13-1"></a>shaoSubset <span class="sc">%&gt;%</span></span>
<span id="cb13-2" class="hljs-ln-code"><a href="#cb13-2"></a>  <span class="fu">tax_agg</span>(<span class="at">rank =</span> <span class="st">"genus"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-3" class="hljs-ln-code"><a href="#cb13-3"></a>  <span class="fu">dist_calc</span>(<span class="at">dist =</span> <span class="st">"bray"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-4" class="hljs-ln-code"><a href="#cb13-4"></a>  <span class="fu">ord_calc</span>(<span class="at">method =</span> <span class="st">"PCoA"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-5" class="hljs-ln-code"><a href="#cb13-5"></a>  <span class="fu">ord_plot</span>(</span>
<span id="cb13-6" class="hljs-ln-code"><a href="#cb13-6"></a>    <span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">color =</span> <span class="st">"birth_mode"</span></span>
<span id="cb13-7" class="hljs-ln-code"><a href="#cb13-7"></a>  ) <span class="sc">+</span></span>
<span id="cb13-8" class="hljs-ln-code"><a href="#cb13-8"></a>  <span class="fu">theme_classic</span>(<span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb13-9" class="hljs-ln-code"><a href="#cb13-9"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">2</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb13-10" class="hljs-ln-code"><a href="#cb13-10"></a>  <span class="fu">theme</span>(</span>
<span id="cb13-11" class="hljs-ln-code"><a href="#cb13-11"></a>    <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.175</span>, <span class="fl">0.8</span>),</span>
<span id="cb13-12" class="hljs-ln-code"><a href="#cb13-12"></a>    <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"black"</span>)</span>
<span id="cb13-13" class="hljs-ln-code"><a href="#cb13-13"></a>  ) <span class="sc">+</span></span>
<span id="cb13-14" class="hljs-ln-code"><a href="#cb13-14"></a>  <span class="fu">stat_ellipse</span>(<span class="fu">aes</span>(<span class="at">color =</span> birth_mode))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<p><img data-src="slides-dissimilarity_files/figure-revealjs/unnamed-chunk-16-1.png" width="600"></p>
</div>
</div>
</div>
</section>
<section id="permanova" class="slide level2 smaller">
<h2>PERMANOVA</h2>
<ul>
<li>Permutational Multivariate ANOVA (ANOVA: ANalysis Of VAriance)</li>
<li><em>Does the average microbiome composition differ by birth mode?</em></li>
</ul>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="slides-dissimilarity_files/figure-revealjs/unnamed-chunk-17-1.png" width="600"></p>
</div>
</div>
</div><div class="column" style="width:55%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>shaoSubset <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>  <span class="fu">tax_agg</span>(<span class="at">rank =</span> <span class="st">"genus"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3"></a>  <span class="fu">dist_calc</span>(<span class="at">dist =</span> <span class="st">"bray"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>  <span class="fu">dist_permanova</span>(<span class="at">variables =</span> <span class="st">"birth_mode"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>  <span class="fu">perm_get</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-6"><a href="#cb14-6"></a>  broom<span class="sc">::</span><span class="fu">tidy</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 6
  term          df SumOfSqs     R2 statistic p.value
  &lt;chr&gt;      &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
1 birth_mode     1    0.591 0.0861      2.64   0.009
2 Residual      28    6.27  0.914      NA     NA    
3 Total         29    6.86  1          NA     NA    </code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="dimensionality-reduction" class="slide level2 smaller" data-transition="convex">
<h2>Dimensionality reduction?</h2>
<ul>
<li>PCoA axes are ordered in decreasing amount of variation explained</li>
<li>Only use or look at the first few = “dimensionality reduction”</li>
</ul>

<img data-src="slides-dissimilarity_files/figure-revealjs/unnamed-chunk-19-1.png" width="720" class="r-stretch"></section>
<section id="ordination---interactive" class="slide level2 smaller" data-transition="convex-in fade-out">
<h2>Ordination - interactive</h2>
<p>This ordination thing is nice, but I can’t see the compositions directly…</p>

<img data-src="slides-dissimilarity_files/figure-revealjs/unnamed-chunk-20-1.png" width="600" class="r-stretch"></section>
<section id="section" class="slide level2" data-transition="fade">
<h2></h2>

<img data-src="images/20210429_ord_explore_x175.gif" class="r-stretch"></section></section>
<section>
<section id="filtering-taxa" class="title-slide slide level1 center" data-transition="convex">
<h1>Filtering taxa</h1>
<p>But before you get to that fun stuff, we need to talk about filtering!</p>
</section>
<section id="rare-taxa---problems" class="slide level2" data-transition="convex">
<h2>Rare taxa - problems</h2>
<p><strong>Rare taxa might be:</strong></p>
<ol type="1">
<li>Sequencing errors</li>
<li>Statistically problematic</li>
<li>Biologically irrelevant</li>
</ol>
<aside class="notes">
<ol type="1">
<li>Rare taxa might be erroneous: sequencing errors (DADA2 isn’t perfect), chimeric sequences…</li>
<li>Statistical challenges:
<ul>
<li>There are often A LOT of different rare taxa
<ul>
<li>Sparsity, lots of zeros</li>
<li>Low precision in very low abundance taxa (integer counts)</li>
<li>Multiple comparisons (we’ll get to that later)</li>
</ul></li>
<li>Having many many taxa in your dataset can really slow down some analyses!</li>
</ul></li>
<li>Biological (ir)relevance:
<ul>
<li>For many (most?) microbiome research questions, rare taxa are less likely to be relevant</li>
<li>For common host health problems and the human/animal microbiome, if a taxon only occurs in every 100th person, it is less likely to be relevant to risk common disease outcomes (?)</li>
</ul></li>
</ol>
<p>I’m sure one can think of many cases where rare taxa are biologically relevant, but problems 1 and 2 are still there.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="rare-taxa---what-is-rare" class="slide level2" data-transition="convex">
<h2>Rare taxa - what is rare?</h2>
<p><strong>Two main concepts:</strong></p>
<ul>
<li>Low <strong>prevalence</strong> - taxon only detected in a small number of samples in your dataset.</li>
<li>Low <strong>abundance</strong> - relatively few reads assigned to that taxon (on average or in total)</li>
</ul>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">ntaxa</span>(shao19)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 819</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>shao19 <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2"></a>  <span class="fu">tax_filter</span>(<span class="at">min_prevalence =</span> <span class="dv">2</span> <span class="sc">/</span> <span class="dv">100</span>, <span class="at">min_total_abundance =</span> <span class="dv">10000</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-3"><a href="#cb18-3"></a>  <span class="fu">ntaxa</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 253</code></pre>
</div>
</div>
</div>
<aside class="notes">
<p>Consider the impact of issues 1, 2, and 3. Let’s say we are not interested in unique taxa that occur in fewer than 2% of samples, and they have to have at least 10,000 reads in total across all samples. Wow we lost a lot of taxa! Let’s look at why.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="cell">

</div>
<div class="cell">

</div>
</section>
<section id="filtering---prevabund-plot" class="slide level2" data-transition="convex-in fade-out">
<h2>Filtering - prev/abund plot</h2>

<img data-src="slides-dissimilarity_files/figure-revealjs/unnamed-chunk-25-1.png" width="720" class="r-stretch"><aside class="notes">
<p>So most taxa have a low prevalence, and a handful have way more reads than most.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="filtering---labelled" class="slide level2">
<h2>Filtering - labelled</h2>

<img data-src="slides-dissimilarity_files/figure-revealjs/unnamed-chunk-26-1.png" width="720" class="r-stretch"><aside class="notes">
<p>Let’s label those points to check which taxa are the big time players. Those taxa make sense for this dataset of mostly infant gut microbiome samples.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="filtering---log-transform" class="slide level2">
<h2>Filtering - log transform</h2>

<img data-src="slides-dissimilarity_files/figure-revealjs/unnamed-chunk-27-1.png" width="720" class="r-stretch"><aside class="notes">
<p>Now let’s zoom in on the less abundant taxa by log-transforming the axes. (We’ll talk more about log transforming in the next slides/exercises).</p>
<p>We’ve also added lines indicating the thresholds of 2% prevalence and 10000 reads abundance. Everything in the top-right box gets kept, otherwise, chuck it!</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="filtering---phylum-facets" class="slide level2" data-transition="fade-in convex-out">
<h2>Filtering - phylum facets</h2>

<img data-src="slides-dissimilarity_files/figure-revealjs/unnamed-chunk-28-1.png" width="960" class="r-stretch"><aside class="notes">
<p>We can break this down by phylum if we add the taxonomic table information.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="filtering---thresholds" class="slide level2" data-transition="convex">
<h2>Filtering - thresholds?</h2>
<p><strong>How to pick a threshold?</strong></p>
<p>Depends on what analysis method you are filtering for!</p>
<div>
<ul>
<li class="fragment">alpha diversity = DO NOT FILTER</li>
<li class="fragment">beta diversity = relevance of threshold depends on your distance measure (next topic!)</li>
<li class="fragment">differential abundance testing = stringent filtering, prevalence &gt;5%, &gt;10%? (last topic!)</li>
</ul>
</div>
</section></section>
<section id="your-turn" class="title-slide slide level1 center" data-transition="convex">
<h1>Your turn</h1>
<div class="footer footer-default">

</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="slides-dissimilarity_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="slides-dissimilarity_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="slides-dissimilarity_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="slides-dissimilarity_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="slides-dissimilarity_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="slides-dissimilarity_files/libs/revealjs/plugin/multiplex/socket.io.js"></script>
  <script src="slides-dissimilarity_files/libs/revealjs/plugin/multiplex/multiplex.js"></script>
  <script src="slides-dissimilarity_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="slides-dissimilarity_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="slides-dissimilarity_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="slides-dissimilarity_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="slides-dissimilarity_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'multiplex': {"secret":null,"id":"78f6ba4322046787","url":"https://reveal-multiplex.glitch.me/"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: false,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: false,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          let href = ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>